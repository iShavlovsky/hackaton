import{k as P,d as M,l as B,r as y,m as U,n as D,o as G,u as N,p as R,c as h,w as S,q as $}from"./@vue-CA14Bhfh.js";function C(e){return D()?(G(e),!0):!1}function g(e){return typeof e=="function"?e():N(e)}const b=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const z=e=>e!=null,F=Object.prototype.toString,I=e=>F.call(e)==="[object Object]",x=()=>{};function V(e){let t;function i(){return t||(t=e()),t}return i.reset=async()=>{const r=t;t=void 0,r&&await r},i}function H(e){return R()}function J(...e){if(e.length!==1)return P(...e);const t=e[0];return typeof t=="function"?M(B(()=>({get:t,set:x}))):y(t)}function K(e,t){H()&&U(e,t)}function Q(e,t,i={}){const{immediate:r=!0}=i,u=y(!1);let n=null;function a(){n&&(clearTimeout(n),n=null)}function f(){u.value=!1,a()}function c(...d){a(),u.value=!0,n=setTimeout(()=>{u.value=!1,n=null,e(...d)},g(t))}return r&&(u.value=!0,b&&c()),C(f),{isPending:M(u),start:c,stop:f}}function E(e){var t;const i=g(e);return(t=i==null?void 0:i.$el)!=null?t:i}const W=b?window:void 0,X=b?window.document:void 0,k=b?window.navigator:void 0;function L(...e){let t,i,r,u;if(typeof e[0]=="string"||Array.isArray(e[0])?([i,r,u]=e,t=W):[t,i,r,u]=e,!t)return x;Array.isArray(i)||(i=[i]),Array.isArray(r)||(r=[r]);const n=[],a=()=>{n.forEach(l=>l()),n.length=0},f=(l,o,s,m)=>(l.addEventListener(o,s,m),()=>l.removeEventListener(o,s,m)),c=S(()=>[E(t),g(u)],([l,o])=>{if(a(),!l)return;const s=I(o)?{...o}:o;n.push(...i.flatMap(m=>r.map(w=>f(l,m,w,s))))},{immediate:!0,flush:"post"}),d=()=>{c(),a()};return C(d),d}function Y(){const e=y(!1),t=R();return t&&$(()=>{e.value=!0},t),e}function T(e){const t=Y();return h(()=>(t.value,!!e()))}function Z(e,t,i={}){const{window:r=W,...u}=i;let n;const a=T(()=>r&&"MutationObserver"in r),f=()=>{n&&(n.disconnect(),n=void 0)},c=h(()=>{const s=g(e),m=(Array.isArray(s)?s:[s]).map(E).filter(z);return new Set(m)}),d=S(()=>c.value,s=>{f(),a.value&&s.size&&(n=new MutationObserver(t),s.forEach(m=>n.observe(m,u)))},{immediate:!0,flush:"post"}),l=()=>n==null?void 0:n.takeRecords(),o=()=>{f(),d()};return C(o),{isSupported:a,stop:o,takeRecords:l}}function _(e,t={}){const{controls:i=!1,navigator:r=k}=t,u=T(()=>r&&"permissions"in r);let n;const a=typeof e=="string"?{name:e}:e,f=y(),c=()=>{n&&(f.value=n.state)},d=V(async()=>{if(u.value){if(!n)try{n=await r.permissions.query(a),L(n,"change",c),c()}catch{f.value="prompt"}return n}});return d(),i?{state:f,isSupported:u,query:d}:f}function te(e={}){const{navigator:t=k,read:i=!1,source:r,copiedDuring:u=1500,legacy:n=!1}=e,a=T(()=>t&&"clipboard"in t),f=_("clipboard-read"),c=_("clipboard-write"),d=h(()=>a.value||n),l=y(""),o=y(!1),s=Q(()=>o.value=!1,u);function m(){a.value&&A(f.value)?t.clipboard.readText().then(p=>{l.value=p}):l.value=q()}d.value&&i&&L(["copy","cut"],m);async function w(p=g(r)){d.value&&p!=null&&(a.value&&A(c.value)?await t.clipboard.writeText(p):j(p),l.value=p,o.value=!0,s.start())}function j(p){const v=document.createElement("textarea");v.value=p??"",v.style.position="absolute",v.style.opacity="0",document.body.appendChild(v),v.select(),document.execCommand("copy"),v.remove()}function q(){var p,v,O;return(O=(v=(p=document==null?void 0:document.getSelection)==null?void 0:p.call(document))==null?void 0:v.toString())!=null?O:""}function A(p){return p==="granted"||p==="prompt"}return{isSupported:d,text:l,copied:o,copy:w}}function ne(e=null,t={}){var i,r,u;const{document:n=X,restoreOnUnmount:a=o=>o}=t,f=(i=n==null?void 0:n.title)!=null?i:"",c=J((r=e??(n==null?void 0:n.title))!=null?r:null),d=e&&typeof e=="function";function l(o){if(!("titleTemplate"in t))return o;const s=t.titleTemplate||"%s";return typeof s=="function"?s(o):g(s).replace(/%s/g,o)}return S(c,(o,s)=>{o!==s&&n&&(n.title=l(typeof o=="string"?o:""))},{immediate:!0}),t.observe&&!t.titleTemplate&&n&&!d&&Z((u=n.head)==null?void 0:u.querySelector("title"),()=>{n&&n.title!==c.value&&(c.value=l(n.title))},{childList:!0}),K(()=>{if(a){const o=a(f,c.value||"");o!=null&&n&&(n.title=o)}}),c}export{te as a,ne as u};
