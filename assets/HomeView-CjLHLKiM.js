import{S as pe,C as ue,F as _e,L as X,a as Z,b as me,c as fe,d as he,e as ve,A as ye}from"./@vicons-CQyrKpPr.js";import{e as O,a4 as ge,f as o,g as r,j as e,a3 as n,a2 as s,a1 as i,x as f,Q as H,u as t,a5 as k,r as q,c as K,q as te,w as ee,F as I,Y as L,a0 as S,a6 as se,a7 as be}from"./@vue-CyX75HH2.js";import{f as W,e as G,N as J,u as ae,l as xe,m as ne,g as we,a as ke,o as $e,p as Ce,q as qe,r as ze}from"./naive-ui-KFCgUZf6.js";import{u as Pe,a as Se,b as Ee}from"./index-BxI2tGW2.js";import{b as De}from"./@vueuse-j7LIZsgf.js";import{a as oe}from"./abi-Bp99HW0C.js";import{a as le,e as Te,f as Ae}from"./@wagmi-BZSUIKUR.js";import{R as Ie}from"./vue-router-Cu0oR64f.js";import"./seemly-D2wyWRjj.js";import"./vooks-e9-YowDj.js";import"./evtd-CI_DDEu_.js";import"./lodash-es-D1IKaXUS.js";import"./vueuc-DEvtCtA4.js";import"./@css-render-CT4uy2oC.js";import"./vdirs-Bxp-63WN.js";import"./@juggle-C8OzoCMD.js";import"./@emotion-WldOFDRm.js";import"./treemate-BD4Oer00.js";import"./date-fns-ByyCCKXE.js";import"./@babel-B0IGr_Mv.js";import"./date-fns-tz-D_KSBUZx.js";import"./async-validator-DKvM95Vc.js";import"./pinia-D4LGdsiM.js";import"./@tanstack-Y25bY9CG.js";import"./viem-JszMgIpC.js";import"./zustand-23CcGmLH.js";import"./eventemitter3-BYCAYZDL.js";import"./mipd-CIcDX0W7.js";const Le={style:{"text-align":"center","vertical-align":"middle"}},je={style:{"vertical-align":"middle"}},Fe={class:"display-flex gap-16 align-items-center",style:{display:"flex","align-items":"center"}},Ne={class:"display-flex flex-column gap-2"},Re={class:"max-w-360 op-06"},Be={style:{"vertical-align":"middle"}},Me={class:"display-flex gap-8",style:{display:"flex","align-items":"center"}},Ve={style:{"vertical-align":"middle"}},Qe={style:{"vertical-align":"middle"}},Ue={class:"display-flex flex-column"},Ye={style:{"vertical-align":"middle"}},He={class:"display-flex flex-column"},Ke={style:{"vertical-align":"middle"}},Oe={class:"display-flex gap-8 width-full justify-end"},We={key:0,class:"main-custom-btn small-btn"},Ge=e("span",null,"Invite",-1),Je={class:"display-flex"},Xe=O({__name:"PartiesTableElement",props:{index:{},party:{},owner:{},people:{},yourTokens:{},yourTokensPercentage:{},totalDistributed:{},totalDistributedPercentage:{}},setup(j){return(l,b)=>{const p=W,$=G,u=J,z=ge("RouterLink");return o(),r("tr",null,[e("td",Le,n(l.index),1),e("td",je,[e("div",Fe,[s(p,{size:64,src:l.party.avatar,bordered:"",class:"min-width-64"},null,8,["src"]),e("div",Ne,[e("h2",null,n(l.party.name),1),e("p",Re,[s($,{"line-clamp":"1"},{default:i(()=>[f(n(l.party.description),1)]),_:1})])])])]),e("td",Be,[e("div",Me,[s(p,{size:28,src:l.owner.avatar,bordered:"",round:""},null,8,["src"]),e("span",null,n(l.owner.name),1)])]),e("td",Ve,n(l.people),1),e("td",Qe,[e("div",Ue,[e("span",null,n(l.yourTokens),1),e("span",{style:H({color:l.yourTokensPercentage<0?"#fe7589":"#92fe75"})},n(l.yourTokensPercentage)+"% ",5)])]),e("td",Ye,[e("div",He,[e("span",null,n(l.totalDistributed),1),e("span",{style:H({color:l.totalDistributedPercentage<0?"#fe7589":"#92fe75"})},n(l.totalDistributedPercentage)+"% ",5)])]),e("td",Ke,[e("div",Oe,[l.owner.owner?(o(),r("button",We,[e("span",null,[s(u,{component:t(pe),size:16,color:"currentColor"},null,8,["component"])]),Ge])):k("",!0),s(z,{class:"main-custom-btn gray-btn",to:"/party-page"},{default:i(()=>[e("span",Je,[s(u,{component:t(ue),size:16,color:"currentColor"},null,8,["component"])])]),_:1})])])])}}}),Ze={class:"quests-card__header display-flex flex-column height-full justify-between"},es={class:"quests-card__title display-flex flex-column gap-2"},ss={class:"op-06"},ts={class:"display-flex align-items-center justify-between mt-16"},as={class:"display-flex gap-4 align-items-center"},ns={class:"round-ico-w"},os={class:"text-12px"},ls={class:"display-flex align-items-center gap-8"},cs={class:"text-12px"},is={class:""},rs=e("div",null,null,-1),ds={class:"quests-card-modal-content"},ps={class:"quests-card-modal-head display-flex gap-40 align-items-center"},us={class:"quests-card__header display-flex flex-column gap-6"},_s={class:"op-06"},ms={class:"display-flex gap-8"},fs={class:""},hs={class:"steps-all-w display-flex gap-20"},vs={class:"steps-sidebar-w display-flex flex-column gap-8"},ys={class:"reward-count-w display-flex flex-row justify-between"},gs={class:"display-grid align-self-center"},bs=e("p",null,"Reward",-1),xs={class:""},ws=e("div",{class:"padding-tb-8px"},[e("h3",null,"Finish all steps")],-1),ks={class:"steps-btns-wrapper display-grid gap-8"},$s=["disabled","onClick"],Cs={class:"display-flex align-items-center gap-8"},qs={class:"step-ico display-flex align-items-center justify-center"},zs={class:"step-title"},Ps={class:"ico-w-28"},Ss={key:0,class:"step-lock"},Es={key:1,class:"step-check"},Ds={class:"display-flex align-items-center gap-8"},Ts={class:"step-ico display-flex align-items-center justify-center"},As=e("span",{class:"step-title text-color-brand-aviation"},"Claim rewards",-1),Is={class:"ico-w-28"},Ls={key:0,class:"step-lock"},js={key:1,class:"step-check"},Fs={class:"quests-modal-step-info width-full display-flex flex-column justify-end"},Ns={class:"text-center mb-92"},Rs=O({__name:"QuestCard",props:{card:{},lastParty:{}},emits:["setEvent"],setup(j,{emit:l}){const b="0x3aE5995509df0Bd125bA20593aA8A945E520e714",p=q(!1),$=ae(),{address:u,chainId:z}=le(),a=j,F=l,h=q(0),P=K(()=>a.card.events[h.value]),_=q(!1),E=q(""),D=q("claim"),g=q([]),{data:N,error:R,isPending:B,isSuccess:M,isError:T,writeContract:C}=Te(),V=()=>{C({abi:oe,chainId:z.value,address:b,account:u.value,functionName:D.value,...g.value&&g.value.length?{args:g.value}:{}})},x=v=>{E.value=v.description},Q=async(v,y)=>{D.value="claim",g.value=[v,y,"secret"],V()},U=async()=>{_.value&&await Q(a.lastParty,"sd"),P.value&&(F("setEvent",{cardId:a.card.id,eventTitle:P.value.title}),P.value.status=!0,h.value<a.card.events.length-1?(h.value++,x(a.card.events[h.value])):_.value=!0)};return te(()=>{x(a.card.events[0])}),ee(()=>M.value,()=>{$.success(`Done ${N.value}`)}),ee(()=>T.value,()=>{var v;$.error(`Error ${(v=R.value)==null?void 0:v.message}`)}),(v,y)=>{const m=W,c=xe,A=ne,ce=G,w=J,ie=we,re=ke,de=$e;return o(),r("div",{class:"quests-card display-flex flex-column pointer",onClick:y[1]||(y[1]=d=>p.value=!0)},[s(m,{size:300,src:a.card.imageSrc,bordered:"",class:"quest-avatar-img pointer"},null,8,["src"]),s(A,{class:"quests-card-tag-w"},{default:i(()=>[(o(!0),r(I,null,L(a.card.tags,d=>(o(),S(c,{key:d,bordered:!1,type:"info"},{default:i(()=>[f(n(d),1)]),_:2},1024))),128))]),_:1}),e("div",Ze,[e("div",es,[e("h2",null,n(a.card.title),1),e("p",ss,[s(ce,{"line-clamp":"1"},{default:i(()=>[f(n(a.card.description),1)]),_:1})])]),e("div",ts,[e("div",as,[e("div",ns,[s(w,{component:t(_e),size:16,class:"reward-ico",color:"#fff"},null,8,["component"])]),e("p",os,n(a.card.questSteps)+" steps",1)]),e("div",ls,[e("p",cs,[e("span",null,n(a.card.totalUsers),1),f(" users ")]),e("div",is,[s(m,{size:28,src:a.card.user1,bordered:"",class:"users-quest-avatar",round:""},null,8,["src"]),s(m,{size:28,src:a.card.user2,bordered:"",class:"users-quest-avatar",round:""},null,8,["src"]),s(m,{size:28,src:a.card.user3,bordered:"",class:"users-quest-avatar",round:""},null,8,["src"])])])])]),s(de,{show:p.value,"onUpdate:show":y[0]||(y[0]=d=>p.value=d),class:"quest-custom-modal",preset:"dialog",title:"Dialog"},{header:i(()=>[rs]),default:i(()=>[s(re,{show:t(B)},{default:i(()=>[e("div",ds,[e("div",ps,[s(m,{size:120,src:a.card.imageSrc,bordered:""},null,8,["src"]),e("div",us,[e("h2",null,n(a.card.title),1),e("p",_s,n(a.card.description),1),e("div",ms,[e("p",null,[e("span",null,n(a.card.totalUsers),1),f(" users ")]),e("div",fs,[s(m,{size:28,src:a.card.user1,bordered:"",class:"users-quest-avatar",round:""},null,8,["src"]),s(m,{size:28,src:a.card.user2,bordered:"",class:"users-quest-avatar",round:""},null,8,["src"]),s(m,{size:28,src:a.card.user3,bordered:"",class:"users-quest-avatar",round:""},null,8,["src"])])])])]),e("div",hs,[e("div",vs,[e("div",ys,[e("div",gs,[bs,e("h2",null,n(a.card.reward),1)]),e("div",xs,[s(ie,{alt:"You are the King",class:"reward-ico",src:"./images/korona.png"})])]),ws,e("div",ks,[(o(!0),r(I,null,L(a.card.events,(d,Y)=>(o(),r("button",{key:d.title,class:se(["quest-modal-step-btn display-flex flex-row align-items-center justify-between",{"active-step":h.value===Y,"done-step":d.status}]),disabled:!d.status,onClick:Xs=>x(d)},[e("span",Cs,[e("span",qs,n(Y+1),1),e("span",zs,n(d.title),1)]),e("span",Ps,[h.value!=Y&&!d.status?(o(),r("span",Ss,[s(w,{component:t(X),depth:1,size:16,color:"#fff"},null,8,["component"])])):k("",!0),d.status&&h.value?(o(),r("span",Es,[s(w,{component:t(Z),depth:1,size:28,color:"#fff"},null,8,["component"])])):k("",!0)])],10,$s))),128)),e("button",{class:se(["quest-modal-step-btn display-flex flex-row align-items-center justify-between",{"active-step":_.value,"done-step":_.value}])},[e("span",Ds,[e("span",Ts,[s(w,{component:t(me),depth:1,size:16,color:"#8F75FE"},null,8,["component"])]),As]),e("span",Is,[_.value?k("",!0):(o(),r("span",Ls,[s(w,{component:t(X),depth:1,size:16,color:"#fff"},null,8,["component"])])),_.value?(o(),r("span",js,[s(w,{component:t(Z),depth:1,size:28,color:"#fff"},null,8,["component"])])):k("",!0)])],2)])]),e("div",Fs,[e("h1",Ns,n(E.value),1),e("button",{style:H({backgroundColor:_.value?"#8f75fe":"#92FE75"}),class:"main-custom-btn",onClick:U},[e("span",null,[s(w,{component:t(fe),depth:1,size:16,color:"currentColor"},null,8,["component"])]),e("span",null,n(_.value?"CLAIM!!!!":"Done"),1)],4)])])])]),_:1},8,["show"])]),_:1},8,["show"])])}}}),Bs={class:"container main-container-padding"},Ms={class:"home-hero-w display-flex flex-row gap-40 align-items-center p-tb-24px"},Vs={class:"display-flex flex-column gap-8"},Qs={class:"display-flex flex-row gap-8 align-items-center"},Us=e("h1",null,"malamuth",-1),Ys={class:"display-flex flex-row gap-8 align-items-center op-06"},Hs=e("span",null,"RSC:",-1),Ks=e("thead",null,[e("tr",null,[e("th",{style:{"vertical-align":"top"}},"#"),e("th",{style:{"vertical-align":"top"}},"Party"),e("th",{style:{"vertical-align":"top"}},"Owner"),e("th",{style:{"vertical-align":"top"}},"People"),e("th",{style:{"vertical-align":"top"}},[f(" Your tokens "),e("br"),f(" 1D ")]),e("th",{style:{"vertical-align":"top"}},[f(" Total distributed "),e("br"),f(" 1D ")]),e("th")])],-1),Os=e("div",{class:"px16-divider"},null,-1),Ws={class:"display-flex"},Gs=e("p",null,"Create party",-1),Js={class:"quest-cards-list-w display-flex gap-8"},zt=O({__name:"HomeView",setup(j){const l=Pe(),b=Se(),p=Ee(),{isConnected:$,address:u,chainId:z}=le(),a=ae(),{text:F,copy:h,copied:P,isSupported:_}=De(),E=T=>{u.value&&h(T).then(()=>{P&&a.success(F.value)})},D="0x3aE5995509df0Bd125bA20593aA8A945E520e714",{data:g,refetch:N}=Ae({abi:oe,chainId:z.value,address:D,account:u.value,functionName:"lastPartyId",query:{enabled:!0}}),R=async()=>{await N(),a.info(`last Party Id: ${g.value}`),console.log("last Party Id:",g.value)};te(()=>{R()});const B=K(()=>b.party.length),M=K(()=>p.questCards.length);return(T,C)=>{const V=W,x=J,Q=G,U=qe,v=ne,y=ze,m=Ce;return o(),r("section",null,[e("div",Bs,[e("div",Ms,[s(V,{size:120,round:"",src:"./images/avatar-main.jpg"}),e("div",Vs,[e("div",Qs,[Us,e("button",{class:"tech-btn",onClick:C[0]||(C[0]=(...c)=>t(b).clearLocalStorage&&t(b).clearLocalStorage(...c))},[e("span",null,[s(x,{component:t(he),depth:1,size:24,color:"#fff"},null,8,["component"])])])]),e("div",Ys,[e("p",null,[Hs,t($)?(o(),S(Q,{key:0,tooltip:!0},{default:i(()=>[f(n(t(l).shortenAddress(t(u))),1)]),_:1})):k("",!0)]),t(_)&&t(u)?(o(),r("button",{key:0,class:"tech-btn",onClick:C[1]||(C[1]=c=>E(t(u)))},[e("span",null,[s(x,{component:t(ve),depth:1,size:24,color:"#fff"},null,8,["component"])])])):k("",!0)])])]),e("div",null,[s(m,{animated:"",class:"card-tabs","default-value":"parties","pane-style":"padding-left: 4px; padding-right: 4px; box-sizing: border-box;","pane-wrapper-style":"margin: 0 -4px",size:"large",type:"line"},{default:i(()=>[s(y,{tab:`Parties ${t(B)}`,name:"parties"},{default:i(()=>[s(v,{class:"table-w",vertical:""},{default:i(()=>[s(U,{class:"table-holder",striped:""},{default:i(()=>[Ks,e("tbody",null,[(o(!0),r(I,null,L(t(b).party,(c,A)=>(o(),S(Xe,{key:A,index:A+1,owner:c.owner,party:c.party,people:c.people,totalDistributed:c.totalDistributed,totalDistributedPercentage:c.totalDistributedPercentage,yourTokens:c.yourTokens,yourTokensPercentage:c.yourTokensPercentage},null,8,["index","owner","party","people","totalDistributed","totalDistributedPercentage","yourTokens","yourTokensPercentage"]))),128))])]),_:1})]),_:1}),Os,s(t(Ie),{class:"main-custom-btn width-full",to:"/create-party"},{default:i(()=>[e("span",Ws,[s(x,{component:t(ye),depth:1,size:24,color:"currentColor"},null,8,["component"])]),Gs]),_:1})]),_:1},8,["tab"]),s(y,{tab:`Quests ${t(M)}`,name:"quests"},{default:i(()=>[e("div",Js,[(o(),S(be,null,[(o(!0),r(I,null,L(t(p).questCards,c=>(o(),S(Rs,{key:c.id,card:c,lastParty:t(g),onSetEvent:t(p).handleSetEvent},null,8,["card","lastParty","onSetEvent"]))),128))],1024))])]),_:1},8,["tab"])]),_:1})])])])}}});export{zt as default};
