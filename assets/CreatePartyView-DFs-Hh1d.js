import{R as S}from"./vue-router-Bn1kxn6c.js";import{a as V}from"./wagmi/vue-SOZ8Qb9n.js";import{u as D,N as Y,r as q,s as L,a as O,m as E,e as G}from"./naive-ui-Df09b5f-.js";import{g as K,W as H,P as J,T as Q,f as X}from"./@vicons-BQY_vkoz.js";import{d as Z,f as k,R as C,x as g,w as ee,o as m,c as v,a as e,a1 as o,a2 as _,u as r,F as x,W as z,N as P,a6 as d,a5 as te,l as N,a8 as se}from"./@vue-gYnbaL6f.js";import"./@wagmi-DKgSIdU4.js";import"./zustand-D8op8QDx.js";import"./viem-ZtY1dojO.js";import"./abitype-BwnVJ5FT.js";import"./eventemitter3-BYCAYZDL.js";import"./@babel-B0IGr_Mv.js";import"./mipd-CIcDX0W7.js";import"./tanstack/vue-query-BbMLtNwm.js";import"./@tanstack-C0zlhh--.js";import"./seemly-D2wyWRjj.js";import"./vooks-BOdELv9k.js";import"./evtd-CI_DDEu_.js";import"./lodash-es-D1IKaXUS.js";import"./vueuc-CBjlbj6k.js";import"./@css-render-J3N-P_TG.js";import"./vdirs-Bxp-63WN.js";import"./@juggle-C8OzoCMD.js";import"./@emotion-WldOFDRm.js";import"./treemate-BD4Oer00.js";import"./date-fns-ByyCCKXE.js";import"./date-fns-tz-D_KSBUZx.js";import"./async-validator-DKvM95Vc.js";const ne={class:"container main-container-padding"},ae=e("p",null,"Back",-1),oe={class:"container main-container-padding max-w-648"},ie=e("div",{class:"display-grid gap-16 text-center"},[e("h1",{class:"text-40px"},"Create party"),e("p",{class:"op-06"},"Unite with others to increase reward")],-1),le={class:"display-grid gap-16 mt-40"},re={class:"party-form-w display-grid gap-32"},de=e("h2",{class:"text-accent-900 text-center"},"Party details",-1),pe={class:"display-grid gap-8"},ce={class:"party-form-w display-grid gap-32"},ue=e("h2",{class:"text-accent-900 text-center"},"Your share",-1),me={class:"display-grid grid-cols-2 gap-32"},_e={class:"display-flex gap-12 align-items-center"},ve={class:"ico-w"},he={class:"display-grid gap-2"},fe=e("p",{class:"text-12px op-06"},"Your wallet",-1),ye={class:"text-14px"},ge={class:"party-form-w display-grid gap-32"},xe=e("h2",{class:"text-accent-900 text-center"},"Party members",-1),be={class:"display-grid gap-8"},we={class:"display-flex gap-16"},Me={class:"member-revenue-w"},ke={class:"op-06"},Ce={class:"display-grid gap-2"},ze={class:"text-16px op-06"},Pe={class:"display-flex gap-16"},Ne=["onClick"],$e=["onClick"],Be={class:"display-flex gap-16 align-items-center"},Ue={class:"member-revenue-w add-member-ico"},Fe=e("span",null,"Add type of members",-1),We={class:"party-form-w party-no-bg display-grid gap-32"},je=e("h2",{class:"text-16px text-center"},"Your revenue will be distributed like this:",-1),Re={class:"revenue-distributed-w display-flex gap-8"},Te={class:"revenue-distributed-info display-grid gap-2"},Ae=e("p",{class:"text-16px op-06"},"@malamuth (you)",-1),Ie={class:"revenue-distributed-info display-grid gap-2"},Se={class:"text-16px op-06"},Ve=e("div",{class:"mt-80 width-full"},[e("button",{class:"main-custom-btn width-full",type:"button"},[e("span",null,"Create party")])],-1),De=e("div",null,null,-1),Ye={class:"quests-card-modal-content p-tb-24px mt-40"},qe=e("h1",{class:"text-center"},"Add type of members",-1),Le={class:"display-grid gap-8 mt-40"},gt=Z({__name:"CreatePartyView",setup(Oe){const b=D(),{isConnected:w,address:$}=V(),p=k(!1),c=k(-1);function B(){return Math.random().toString(36).substring(7)}const n=C({name:"",description:"",share:null,partyMembers:[{id:"asdad",name:"Telegram members",description:"Those who joined party via TG",revenue:15}]}),a=C({id:"",name:"",description:"",revenue:null}),U=g(()=>n.partyMembers.reduce((i,s)=>i+(s.revenue??0),0)),y=g(()=>n.share?`${n.share}`:`${100-U.value}`),F=g(()=>!!a.name&&a.description&&a.revenue),M=()=>{a.id="",a.name="",a.description="",a.revenue=null},W=i=>{const s=n.partyMembers.findIndex(l=>l.id===i.id);if(s!==-1){c.value=s,p.value=!0;const{id:l,name:u,description:h,revenue:f}=i;Object.assign(a,{id:l,name:u,description:h,revenue:f})}},j=()=>{if(F.value){if(c.value>=0)n.partyMembers[c.value]={...a},c.value=-1;else{const i={id:B(),name:a.name,description:a.description,revenue:a.revenue};n.partyMembers.push(i)}p.value=!1,M(),b.success("Party members created")}else b.warning("Fill in all fields correctly")},R=i=>{const s=n.partyMembers.findIndex(l=>l.id===i);s!==-1&&n.partyMembers.splice(s,1)};return ee(()=>p.value,i=>{console.log(777,c.value),i||M()}),(i,s)=>{const l=Y,u=q,h=L,f=G,T=O,A=E;return m(),v(x,null,[e("section",null,[e("div",ne,[o(r(S),{class:"display-flex align-items-center",to:"/"},{default:_(()=>[o(l,{component:r(K),depth:1,size:24,color:"#fff"},null,8,["component"]),ae]),_:1})])]),e("section",null,[e("div",oe,[ie,e("div",le,[e("div",re,[de,e("div",pe,[o(u,{value:n.name,"onUpdate:value":s[0]||(s[0]=t=>n.name=t),valueModifiers:{trim:!0},path:"user.name",placeholder:"Name",size:"large",type:"text"},null,8,["value"]),o(u,{value:n.description,"onUpdate:value":s[1]||(s[1]=t=>n.description=t),valueModifiers:{trim:!0},placeholder:"Description",size:"large",type:"text"},null,8,["value"])])]),e("div",ce,[ue,e("div",me,[o(h,{value:n.share,"onUpdate:value":s[2]||(s[2]=t=>n.share=t),valueModifiers:{trim:!0},"default-value":null,max:100,min:1,placeholder:`${y.value}%`,"show-button":!1,step:1,size:"large"},null,8,["value","placeholder"]),e("div",_e,[e("div",ve,[o(l,{component:r(H),depth:1,size:16,color:"#fff"},null,8,["component"])]),e("div",he,[o(T,{show:!r(w)},{default:_(()=>[fe,e("p",ye,[r(w)?(m(),te(f,{key:0,tooltip:!0,style:{"max-width":"100px",color:"white"}},{default:_(()=>[N(d(r($)),1)]),_:1})):se("",!0)])]),_:1},8,["show"])])])])]),e("div",ge,[xe,e("div",be,[(m(!0),v(x,null,z(n.partyMembers,t=>(m(),v("div",{key:t.id,class:"add-member display-flex justify-between align-items-center"},[e("div",we,[e("div",Me,[e("p",ke,d(t.revenue)+"%",1)]),e("div",Ce,[e("p",null,d(t.name),1),e("p",ze,d(t.description),1)])]),e("div",Pe,[e("button",{class:"main-custom-btn gray-btn",type:"button",onClick:I=>W(t)},[e("span",null,[o(l,{component:r(J),depth:1,size:16,color:"#fff"},null,8,["component"])])],8,Ne),e("button",{class:"main-custom-btn red-btn",type:"button",onClick:I=>R(t.id)},[e("span",null,[o(l,{component:r(Q),depth:1,size:16,color:"#fff"},null,8,["component"])])],8,$e)])]))),128)),e("button",{class:"add-member text-left display-flex justify-between align-items-center",onClick:s[3]||(s[3]=t=>p.value=!0)},[e("span",Be,[e("span",Ue,[e("span",null,[o(l,{component:r(X),depth:1,size:24,color:"#fff"},null,8,["component"])])]),Fe])])])]),e("div",We,[je,e("div",Re,[e("div",{style:P({maxWidth:`${y.value}%`,minWidth:"10%"}),class:"revenue-distributed-holder display-flex align-items-center justify-center"},[e("div",Te,[e("p",null,d(y.value)+"%",1),Ae])],4),(m(!0),v(x,null,z(n.partyMembers,t=>(m(),v("div",{key:t.id,style:P({maxWidth:`${t.revenue}%`,minWidth:"10%"}),class:"revenue-distributed-holder display-flex align-items-center justify-center"},[e("div",Ie,[e("p",null,d(t.revenue)+"%",1),e("p",Se,[o(f,{tooltip:!0,style:{"max-width":"150px"}},{default:_(()=>[N(d(t.name),1)]),_:2},1024)])])],4))),128))]),Ve])])]),o(A,{show:p.value,"onUpdate:show":s[7]||(s[7]=t=>p.value=t),class:"quest-custom-modal min-w-648",preset:"dialog",title:"Dialog"},{header:_(()=>[De]),default:_(()=>[e("div",Ye,[qe,e("div",Le,[o(u,{value:a.name,"onUpdate:value":s[4]||(s[4]=t=>a.name=t),valueModifiers:{trim:!0},placeholder:"Name",size:"large",type:"text"},null,8,["value"]),o(u,{value:a.description,"onUpdate:value":s[5]||(s[5]=t=>a.description=t),valueModifiers:{trim:!0},placeholder:"Description",size:"large",type:"text"},null,8,["value"]),o(h,{value:a.revenue,"onUpdate:value":s[6]||(s[6]=t=>a.revenue=t),valueModifiers:{trim:!0},"default-value":null,max:n.share?100-n.share:100,min:1,placeholder:`Revenue share max ${n.share?100-n.share:100}% `,"show-button":!1,step:1,size:"large"},null,8,["value","max","placeholder"]),e("button",{class:"main-custom-btn width-full",type:"button",onClick:j},[e("span",null,d(c.value>=0?"Save":"Add"),1)])])])]),_:1},8,["show"])])],64)}}});export{gt as default};
