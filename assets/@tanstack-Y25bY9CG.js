var Yt=(s,t,e)=>{if(!t.has(s))throw TypeError("Cannot "+e)};var r=(s,t,e)=>(Yt(s,t,"read from private field"),e?e.call(s):t.get(s)),l=(s,t,e)=>{if(t.has(s))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(s):t.set(s,e)},h=(s,t,e,i)=>(Yt(s,t,"write to private field"),i?i.call(s,e):t.set(s,e),e);var _t=(s,t,e,i)=>({set _(n){h(s,t,n,e)},get _(){return r(s,t,i)}}),y=(s,t,e)=>(Yt(s,t,"access private method"),e);import{a as Ue,u as es,h as ss,i as is,r as rs,c as Ie,b as Te,w as yt,o as je,t as Ke,d as xe}from"./@vue-CyX75HH2.js";var Mt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ft=typeof window>"u"||"Deno"in globalThis;function x(){}function ns(s,t){return typeof s=="function"?s(t):s}function Xt(s){return typeof s=="number"&&s>=0&&s!==1/0}function Le(s,t){return Math.max(s+(t||0)-Date.now(),0)}function me(s,t){const{type:e="all",exact:i,fetchStatus:n,predicate:a,queryKey:u,stale:f}=s;if(u){if(i){if(t.queryHash!==de(u,t.options))return!1}else if(!At(t.queryKey,u))return!1}if(e!=="all"){const g=t.isActive();if(e==="active"&&!g||e==="inactive"&&g)return!1}return!(typeof f=="boolean"&&t.isStale()!==f||n&&n!==t.state.fetchStatus||a&&!a(t))}function ve(s,t){const{exact:e,status:i,predicate:n,mutationKey:a}=s;if(a){if(!t.options.mutationKey)return!1;if(e){if(dt(t.options.mutationKey)!==dt(a))return!1}else if(!At(t.options.mutationKey,a))return!1}return!(i&&t.state.status!==i||n&&!n(t))}function de(s,t){return((t==null?void 0:t.queryKeyHashFn)||dt)(s)}function dt(s){return JSON.stringify(s,(t,e)=>Zt(e)?Object.keys(e).sort().reduce((i,n)=>(i[n]=e[n],i),{}):e)}function At(s,t){return s===t?!0:typeof s!=typeof t?!1:s&&t&&typeof s=="object"&&typeof t=="object"?!Object.keys(t).some(e=>!At(s[e],t[e])):!1}function ke(s,t){if(s===t)return s;const e=be(s)&&be(t);if(e||Zt(s)&&Zt(t)){const i=e?s:Object.keys(s),n=i.length,a=e?t:Object.keys(t),u=a.length,f=e?[]:{};let g=0;for(let v=0;v<u;v++){const p=e?v:a[v];(!e&&i.includes(p)||e)&&s[p]===void 0&&t[p]===void 0?(f[p]=void 0,g++):(f[p]=ke(s[p],t[p]),f[p]===s[p]&&s[p]!==void 0&&g++)}return n===u&&g===n?s:f}return t}function Vt(s,t){if(!t||Object.keys(s).length!==Object.keys(t).length)return!1;for(const e in s)if(s[e]!==t[e])return!1;return!0}function be(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function Zt(s){if(!ge(s))return!1;const t=s.constructor;if(t===void 0)return!0;const e=t.prototype;return!(!ge(e)||!e.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function ge(s){return Object.prototype.toString.call(s)==="[object Object]"}function as(s){return new Promise(t=>{setTimeout(t,s)})}function te(s,t,e){return typeof e.structuralSharing=="function"?e.structuralSharing(s,t):e.structuralSharing!==!1?ke(s,t):t}function us(s,t,e=0){const i=[...s,t];return e&&i.length>e?i.slice(1):i}function os(s,t,e=0){const i=[t,...s];return e&&i.length>e?i.slice(0,-1):i}var He=Symbol(),Ne=(s,t)=>!s.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!s.queryFn||s.queryFn===He?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn,rt,Y,pt,Qe,hs=(Qe=class extends Mt{constructor(){super();l(this,rt,void 0);l(this,Y,void 0);l(this,pt,void 0);h(this,pt,t=>{if(!ft&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){r(this,Y)||this.setEventListener(r(this,pt))}onUnsubscribe(){var t;this.hasListeners()||((t=r(this,Y))==null||t.call(this),h(this,Y,void 0))}setEventListener(t){var e;h(this,pt,t),(e=r(this,Y))==null||e.call(this),h(this,Y,t(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(t){r(this,rt)!==t&&(h(this,rt,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){var t;return typeof r(this,rt)=="boolean"?r(this,rt):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},rt=new WeakMap,Y=new WeakMap,pt=new WeakMap,Qe),ye=new hs,mt,J,vt,Se,cs=(Se=class extends Mt{constructor(){super();l(this,mt,!0);l(this,J,void 0);l(this,vt,void 0);h(this,vt,t=>{if(!ft&&window.addEventListener){const e=()=>t(!0),i=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",i)}}})}onSubscribe(){r(this,J)||this.setEventListener(r(this,vt))}onUnsubscribe(){var t;this.hasListeners()||((t=r(this,J))==null||t.call(this),h(this,J,void 0))}setEventListener(t){var e;h(this,vt,t),(e=r(this,J))==null||e.call(this),h(this,J,t(this.setOnline.bind(this)))}setOnline(t){r(this,mt)!==t&&(h(this,mt,t),this.listeners.forEach(i=>{i(t)}))}isOnline(){return r(this,mt)}},mt=new WeakMap,J=new WeakMap,vt=new WeakMap,Se),Wt=new cs;function ls(s){return Math.min(1e3*2**s,3e4)}function Ge(s){return(s??"online")==="online"?Wt.isOnline():!0}var _e=class{constructor(s){this.revert=s==null?void 0:s.revert,this.silent=s==null?void 0:s.silent}};function Jt(s){return s instanceof _e}function Be(s){let t=!1,e=0,i=!1,n,a,u;const f=new Promise((O,Q)=>{a=O,u=Q}),g=O=>{var Q;i||(S(new _e(O)),(Q=s.abort)==null||Q.call(s))},v=()=>{t=!0},p=()=>{t=!1},c=()=>ye.isFocused()&&(s.networkMode==="always"||Wt.isOnline())&&s.canRun(),o=()=>Ge(s.networkMode)&&s.canRun(),d=O=>{var Q;i||(i=!0,(Q=s.onSuccess)==null||Q.call(s,O),n==null||n(),a(O))},S=O=>{var Q;i||(i=!0,(Q=s.onError)==null||Q.call(s,O),n==null||n(),u(O))},R=()=>new Promise(O=>{var Q;n=w=>{(i||c())&&O(w)},(Q=s.onPause)==null||Q.call(s)}).then(()=>{var O;n=void 0,i||(O=s.onContinue)==null||O.call(s)}),F=()=>{if(i)return;let O;const Q=e===0?s.initialPromise:void 0;try{O=Q??s.fn()}catch(w){O=Promise.reject(w)}Promise.resolve(O).then(d).catch(w=>{var b;if(i)return;const D=s.retry??(ft?0:3),M=s.retryDelay??ls,H=typeof M=="function"?M(e,w):M,$=D===!0||typeof D=="number"&&e<D||typeof D=="function"&&D(e,w);if(t||!$){S(w);return}e++,(b=s.onFail)==null||b.call(s,e,w),as(H).then(()=>c()?void 0:R()).then(()=>{t?S(w):F()})})};return{promise:f,cancel:g,continue:()=>(n==null||n(),f),cancelRetry:v,continueRetry:p,canStart:o,start:()=>(o()?F():R().then(F),f)}}function fs(){let s=[],t=0,e=o=>{o()},i=o=>{o()},n=o=>setTimeout(o,0);const a=o=>{n=o},u=o=>{let d;t++;try{d=o()}finally{t--,t||v()}return d},f=o=>{t?s.push(o):n(()=>{e(o)})},g=o=>(...d)=>{f(()=>{o(...d)})},v=()=>{const o=s;s=[],o.length&&n(()=>{i(()=>{o.forEach(d=>{e(d)})})})};return{batch:u,batchCalls:g,schedule:f,setNotifyFunction:o=>{e=o},setBatchNotifyFunction:o=>{i=o},setScheduler:a}}var E=fs(),nt,Pe,$e=(Pe=class{constructor(){l(this,nt,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Xt(this.gcTime)&&h(this,nt,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(ft?1/0:5*60*1e3))}clearGcTimeout(){r(this,nt)&&(clearTimeout(r(this,nt)),h(this,nt,void 0))}},nt=new WeakMap,Pe),bt,gt,K,A,qt,at,k,V,Re,ds=(Re=class extends $e{constructor(t){super();l(this,k);l(this,bt,void 0);l(this,gt,void 0);l(this,K,void 0);l(this,A,void 0);l(this,qt,void 0);l(this,at,void 0);h(this,at,!1),h(this,qt,t.defaultOptions),this.setOptions(t.options),this.observers=[],h(this,K,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,h(this,bt,t.state||ys(this.options)),this.state=r(this,bt),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=r(this,A))==null?void 0:t.promise}setOptions(t){this.options={...r(this,qt),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&r(this,K).remove(this)}setData(t,e){const i=te(this.state.data,t,this.options);return y(this,k,V).call(this,{data:i,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt,manual:e==null?void 0:e.manual}),i}setState(t,e){y(this,k,V).call(this,{type:"setState",state:t,setStateOptions:e})}cancel(t){var i,n;const e=(i=r(this,A))==null?void 0:i.promise;return(n=r(this,A))==null||n.cancel(t),e?e.then(x).catch(x):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(r(this,bt))}isActive(){return this.observers.some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Le(this.state.dataUpdatedAt,t)}onFocus(){var e;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(e=r(this,A))==null||e.continue()}onOnline(){var e;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(e=r(this,A))==null||e.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),r(this,K).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(r(this,A)&&(r(this,at)?r(this,A).cancel({revert:!0}):r(this,A).cancelRetry()),this.scheduleGc()),r(this,K).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||y(this,k,V).call(this,{type:"invalidate"})}fetch(t,e){var g,v,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(e!=null&&e.cancelRefetch))this.cancel({silent:!0});else if(r(this,A))return r(this,A).continueRetry(),r(this,A).promise}if(t&&this.setOptions(t),!this.options.queryFn){const c=this.observers.find(o=>o.options.queryFn);c&&this.setOptions(c.options)}const i=new AbortController,n=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(h(this,at,!0),i.signal)})},a=()=>{const c=Ne(this.options,e),o={queryKey:this.queryKey,meta:this.meta};return n(o),h(this,at,!1),this.options.persister?this.options.persister(c,o,this):c(o)},u={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};n(u),(g=this.options.behavior)==null||g.onFetch(u,this),h(this,gt,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((v=u.fetchOptions)==null?void 0:v.meta))&&y(this,k,V).call(this,{type:"fetch",meta:(p=u.fetchOptions)==null?void 0:p.meta});const f=c=>{var o,d,S,R;Jt(c)&&c.silent||y(this,k,V).call(this,{type:"error",error:c}),Jt(c)||((d=(o=r(this,K).config).onError)==null||d.call(o,c,this),(R=(S=r(this,K).config).onSettled)==null||R.call(S,this.state.data,c,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return h(this,A,Be({initialPromise:e==null?void 0:e.initialPromise,fn:u.fetchFn,abort:i.abort.bind(i),onSuccess:c=>{var o,d,S,R;if(c===void 0){f(new Error(`${this.queryHash} data is undefined`));return}this.setData(c),(d=(o=r(this,K).config).onSuccess)==null||d.call(o,c,this),(R=(S=r(this,K).config).onSettled)==null||R.call(S,c,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:f,onFail:(c,o)=>{y(this,k,V).call(this,{type:"failed",failureCount:c,error:o})},onPause:()=>{y(this,k,V).call(this,{type:"pause"})},onContinue:()=>{y(this,k,V).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),r(this,A).start()}},bt=new WeakMap,gt=new WeakMap,K=new WeakMap,A=new WeakMap,qt=new WeakMap,at=new WeakMap,k=new WeakSet,V=function(t){const e=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...Ve(i.data,this.options),fetchMeta:t.meta??null};case"success":return{...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return Jt(n)&&n.revert&&r(this,gt)?{...r(this,gt),fetchStatus:"idle"}:{...i,error:n,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=e(this.state),E.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),r(this,K).notify({query:this,type:"updated",action:t})})},Re);function Ve(s,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ge(t.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function ys(s){const t=typeof s.initialData=="function"?s.initialData():s.initialData,e=t!==void 0,i=e?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:e?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:e?"success":"pending",fetchStatus:"idle"}}var N,Fe,We=(Fe=class extends Mt{constructor(e={}){super();l(this,N,void 0);this.config=e,h(this,N,new Map)}build(e,i,n){const a=i.queryKey,u=i.queryHash??de(a,i);let f=this.get(u);return f||(f=new ds({cache:this,queryKey:a,queryHash:u,options:e.defaultQueryOptions(i),state:n,defaultOptions:e.getQueryDefaults(a)}),this.add(f)),f}add(e){r(this,N).has(e.queryHash)||(r(this,N).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const i=r(this,N).get(e.queryHash);i&&(e.destroy(),i===e&&r(this,N).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){E.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return r(this,N).get(e)}getAll(){return[...r(this,N).values()]}find(e){const i={exact:!0,...e};return this.getAll().find(n=>me(i,n))}findAll(e={}){const i=this.getAll();return Object.keys(e).length>0?i.filter(n=>me(e,n)):i}notify(e){E.batch(()=>{this.listeners.forEach(i=>{i(e)})})}onFocus(){E.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){E.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},N=new WeakMap,Fe),G,q,ut,_,z,De,ps=(De=class extends $e{constructor(t){super();l(this,_);l(this,G,void 0);l(this,q,void 0);l(this,ut,void 0);this.mutationId=t.mutationId,h(this,q,t.mutationCache),h(this,G,[]),this.state=t.state||ze(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){r(this,G).includes(t)||(r(this,G).push(t),this.clearGcTimeout(),r(this,q).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){h(this,G,r(this,G).filter(e=>e!==t)),this.scheduleGc(),r(this,q).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){r(this,G).length||(this.state.status==="pending"?this.scheduleGc():r(this,q).remove(this))}continue(){var t;return((t=r(this,ut))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var n,a,u,f,g,v,p,c,o,d,S,R,F,O,Q,w,D,M,H,$;h(this,ut,Be({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(b,L)=>{y(this,_,z).call(this,{type:"failed",failureCount:b,error:L})},onPause:()=>{y(this,_,z).call(this,{type:"pause"})},onContinue:()=>{y(this,_,z).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>r(this,q).canRun(this)}));const e=this.state.status==="pending",i=!r(this,ut).canStart();try{if(!e){y(this,_,z).call(this,{type:"pending",variables:t,isPaused:i}),await((a=(n=r(this,q).config).onMutate)==null?void 0:a.call(n,t,this));const L=await((f=(u=this.options).onMutate)==null?void 0:f.call(u,t));L!==this.state.context&&y(this,_,z).call(this,{type:"pending",context:L,variables:t,isPaused:i})}const b=await r(this,ut).start();return await((v=(g=r(this,q).config).onSuccess)==null?void 0:v.call(g,b,t,this.state.context,this)),await((c=(p=this.options).onSuccess)==null?void 0:c.call(p,b,t,this.state.context)),await((d=(o=r(this,q).config).onSettled)==null?void 0:d.call(o,b,null,this.state.variables,this.state.context,this)),await((R=(S=this.options).onSettled)==null?void 0:R.call(S,b,null,t,this.state.context)),y(this,_,z).call(this,{type:"success",data:b}),b}catch(b){try{throw await((O=(F=r(this,q).config).onError)==null?void 0:O.call(F,b,t,this.state.context,this)),await((w=(Q=this.options).onError)==null?void 0:w.call(Q,b,t,this.state.context)),await((M=(D=r(this,q).config).onSettled)==null?void 0:M.call(D,void 0,b,this.state.variables,this.state.context,this)),await(($=(H=this.options).onSettled)==null?void 0:$.call(H,void 0,b,t,this.state.context)),b}finally{y(this,_,z).call(this,{type:"error",error:b})}}finally{r(this,q).runNext(this)}}},G=new WeakMap,q=new WeakMap,ut=new WeakMap,_=new WeakSet,z=function(t){const e=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),E.batch(()=>{r(this,G).forEach(i=>{i.onMutationUpdate(t)}),r(this,q).notify({mutation:this,type:"updated",action:t})})},De);function ze(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var j,Ut,Me,Ye=(Me=class extends Mt{constructor(e={}){super();l(this,j,void 0);l(this,Ut,void 0);this.config=e,h(this,j,new Map),h(this,Ut,Date.now())}build(e,i,n){const a=new ps({mutationCache:this,mutationId:++_t(this,Ut)._,options:e.defaultMutationOptions(i),state:n});return this.add(a),a}add(e){const i=Bt(e),n=r(this,j).get(i)??[];n.push(e),r(this,j).set(i,n),this.notify({type:"added",mutation:e})}remove(e){var n;const i=Bt(e);if(r(this,j).has(i)){const a=(n=r(this,j).get(i))==null?void 0:n.filter(u=>u!==e);a&&(a.length===0?r(this,j).delete(i):r(this,j).set(i,a))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const i=(n=r(this,j).get(Bt(e)))==null?void 0:n.find(a=>a.state.status==="pending");return!i||i===e}runNext(e){var n;const i=(n=r(this,j).get(Bt(e)))==null?void 0:n.find(a=>a!==e&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}clear(){E.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...r(this,j).values()].flat()}find(e){const i={exact:!0,...e};return this.getAll().find(n=>ve(i,n))}findAll(e={}){return this.getAll().filter(i=>ve(e,i))}notify(e){E.batch(()=>{this.listeners.forEach(i=>{i(e)})})}resumePausedMutations(){const e=this.getAll().filter(i=>i.state.isPaused);return E.batch(()=>Promise.all(e.map(i=>i.continue().catch(x))))}},j=new WeakMap,Ut=new WeakMap,Me);function Bt(s){var t;return((t=s.options.scope)==null?void 0:t.id)??String(s.mutationId)}function ms(s){return{onFetch:(t,e)=>{const i=async()=>{var S,R,F,O,Q;const n=t.options,a=(F=(R=(S=t.fetchOptions)==null?void 0:S.meta)==null?void 0:R.fetchMore)==null?void 0:F.direction,u=((O=t.state.data)==null?void 0:O.pages)||[],f=((Q=t.state.data)==null?void 0:Q.pageParams)||[],g={pages:[],pageParams:[]};let v=!1;const p=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},c=Ne(t.options,t.fetchOptions),o=async(w,D,M)=>{if(v)return Promise.reject();if(D==null&&w.pages.length)return Promise.resolve(w);const H={queryKey:t.queryKey,pageParam:D,direction:M?"backward":"forward",meta:t.options.meta};p(H);const $=await c(H),{maxPages:b}=t.options,L=M?os:us;return{pages:L(w.pages,$,b),pageParams:L(w.pageParams,D,b)}};let d;if(a&&u.length){const w=a==="backward",D=w?vs:Oe,M={pages:u,pageParams:f},H=D(n,M);d=await o(M,H,w)}else{d=await o(g,f[0]??n.initialPageParam);const w=s??u.length;for(let D=1;D<w;D++){const M=Oe(n,d);d=await o(d,M)}}return d};t.options.persister?t.fetchFn=()=>{var n,a;return(a=(n=t.options).persister)==null?void 0:a.call(n,i,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},e)}:t.fetchFn=i}}}function Oe(s,{pages:t,pageParams:e}){const i=t.length-1;return s.getNextPageParam(t[i],t,e[i],e)}function vs(s,{pages:t,pageParams:e}){var i;return(i=s.getPreviousPageParam)==null?void 0:i.call(s,t[0],t,e[0],e)}var P,X,Z,Ot,wt,tt,Ct,Qt,Ee,bs=(Ee=class{constructor(t={}){l(this,P,void 0);l(this,X,void 0);l(this,Z,void 0);l(this,Ot,void 0);l(this,wt,void 0);l(this,tt,void 0);l(this,Ct,void 0);l(this,Qt,void 0);h(this,P,t.queryCache||new We),h(this,X,t.mutationCache||new Ye),h(this,Z,t.defaultOptions||{}),h(this,Ot,new Map),h(this,wt,new Map),h(this,tt,0)}mount(){_t(this,tt)._++,r(this,tt)===1&&(h(this,Ct,ye.subscribe(async t=>{t&&(await this.resumePausedMutations(),r(this,P).onFocus())})),h(this,Qt,Wt.subscribe(async t=>{t&&(await this.resumePausedMutations(),r(this,P).onOnline())})))}unmount(){var t,e;_t(this,tt)._--,r(this,tt)===0&&((t=r(this,Ct))==null||t.call(this),h(this,Ct,void 0),(e=r(this,Qt))==null||e.call(this),h(this,Qt,void 0))}isFetching(t){return r(this,P).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return r(this,X).findAll({...t,status:"pending"}).length}getQueryData(t){var i;const e=this.defaultQueryOptions({queryKey:t});return(i=r(this,P).get(e.queryHash))==null?void 0:i.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const i=this.defaultQueryOptions(t),n=r(this,P).build(this,i);return t.revalidateIfStale&&n.isStaleByTime(i.staleTime)&&this.prefetchQuery(i),Promise.resolve(e)}}getQueriesData(t){return r(this,P).findAll(t).map(({queryKey:e,state:i})=>{const n=i.data;return[e,n]})}setQueryData(t,e,i){const n=this.defaultQueryOptions({queryKey:t}),a=r(this,P).get(n.queryHash),u=a==null?void 0:a.state.data,f=ns(e,u);if(f!==void 0)return r(this,P).build(this,n).setData(f,{...i,manual:!0})}setQueriesData(t,e,i){return E.batch(()=>r(this,P).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,i)]))}getQueryState(t){var i;const e=this.defaultQueryOptions({queryKey:t});return(i=r(this,P).get(e.queryHash))==null?void 0:i.state}removeQueries(t){const e=r(this,P);E.batch(()=>{e.findAll(t).forEach(i=>{e.remove(i)})})}resetQueries(t,e){const i=r(this,P),n={type:"active",...t};return E.batch(()=>(i.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const i={revert:!0,...e},n=E.batch(()=>r(this,P).findAll(t).map(a=>a.cancel(i)));return Promise.all(n).then(x).catch(x)}invalidateQueries(t={},e={}){return E.batch(()=>{if(r(this,P).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const i={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(i,e)})}refetchQueries(t={},e){const i={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=E.batch(()=>r(this,P).findAll(t).filter(a=>!a.isDisabled()).map(a=>{let u=a.fetch(void 0,i);return i.throwOnError||(u=u.catch(x)),a.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(n).then(x)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const i=r(this,P).build(this,e);return i.isStaleByTime(e.staleTime)?i.fetch(e):Promise.resolve(i.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(x).catch(x)}fetchInfiniteQuery(t){return t.behavior=ms(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(x).catch(x)}resumePausedMutations(){return Wt.isOnline()?r(this,X).resumePausedMutations():Promise.resolve()}getQueryCache(){return r(this,P)}getMutationCache(){return r(this,X)}getDefaultOptions(){return r(this,Z)}setDefaultOptions(t){h(this,Z,t)}setQueryDefaults(t,e){r(this,Ot).set(dt(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...r(this,Ot).values()];let i={};return e.forEach(n=>{At(t,n.queryKey)&&(i={...i,...n.defaultOptions})}),i}setMutationDefaults(t,e){r(this,wt).set(dt(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...r(this,wt).values()];let i={};return e.forEach(n=>{At(t,n.mutationKey)&&(i={...i,...n.defaultOptions})}),i}defaultQueryOptions(t){if(t._defaulted)return t;const e={...r(this,Z).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=de(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===He&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...r(this,Z).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){r(this,P).clear(),r(this,X).clear()}},P=new WeakMap,X=new WeakMap,Z=new WeakMap,Ot=new WeakMap,wt=new WeakMap,tt=new WeakMap,Ct=new WeakMap,Qt=new WeakMap,Ee),I,C,It,U,ot,St,B,Tt,Pt,Rt,ht,ct,et,Ft,lt,Et,jt,ee,Kt,se,xt,ie,Lt,re,kt,ne,Ht,ae,Nt,ue,zt,Je,Ae,gs=(Ae=class extends Mt{constructor(t,e){super();l(this,lt);l(this,jt);l(this,Kt);l(this,xt);l(this,Lt);l(this,kt);l(this,Ht);l(this,Nt);l(this,zt);l(this,I,void 0);l(this,C,void 0);l(this,It,void 0);l(this,U,void 0);l(this,ot,void 0);l(this,St,void 0);l(this,B,void 0);l(this,Tt,void 0);l(this,Pt,void 0);l(this,Rt,void 0);l(this,ht,void 0);l(this,ct,void 0);l(this,et,void 0);l(this,Ft,new Set);this.options=e,h(this,I,t),h(this,B,null),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(r(this,C).addObserver(this),we(r(this,C),this.options)?y(this,lt,Et).call(this):this.updateResult(),y(this,Lt,re).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return oe(r(this,C),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return oe(r(this,C),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,y(this,kt,ne).call(this),y(this,Ht,ae).call(this),r(this,C).removeObserver(this)}setOptions(t,e){const i=this.options,n=r(this,C);if(this.options=r(this,I).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");y(this,Nt,ue).call(this),r(this,C).setOptions(this.options),i._defaulted&&!Vt(this.options,i)&&r(this,I).getQueryCache().notify({type:"observerOptionsUpdated",query:r(this,C),observer:this});const a=this.hasListeners();a&&Ce(r(this,C),n,this.options,i)&&y(this,lt,Et).call(this),this.updateResult(e),a&&(r(this,C)!==n||this.options.enabled!==i.enabled||this.options.staleTime!==i.staleTime)&&y(this,jt,ee).call(this);const u=y(this,Kt,se).call(this);a&&(r(this,C)!==n||this.options.enabled!==i.enabled||u!==r(this,et))&&y(this,xt,ie).call(this,u)}getOptimisticResult(t){const e=r(this,I).getQueryCache().build(r(this,I),t),i=this.createResult(e,t);return ws(this,i)&&(h(this,U,i),h(this,St,this.options),h(this,ot,r(this,C).state)),i}getCurrentResult(){return r(this,U)}trackResult(t,e){const i={};return Object.keys(t).forEach(n=>{Object.defineProperty(i,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),e==null||e(n),t[n])})}),i}trackProp(t){r(this,Ft).add(t)}getCurrentQuery(){return r(this,C)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=r(this,I).defaultQueryOptions(t),i=r(this,I).getQueryCache().build(r(this,I),e);return i.isFetchingOptimistic=!0,i.fetch().then(()=>this.createResult(i,e))}fetch(t){return y(this,lt,Et).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),r(this,U)))}createResult(t,e){var $;const i=r(this,C),n=this.options,a=r(this,U),u=r(this,ot),f=r(this,St),v=t!==i?t.state:r(this,It),{state:p}=t;let c={...p},o=!1,d;if(e._optimisticResults){const b=this.hasListeners(),L=!b&&we(t,e),ts=b&&Ce(t,i,e,n);(L||ts)&&(c={...c,...Ve(p.data,t.options)}),e._optimisticResults==="isRestoring"&&(c.fetchStatus="idle")}let{error:S,errorUpdatedAt:R,status:F}=c;if(e.select&&c.data!==void 0)if(a&&c.data===(u==null?void 0:u.data)&&e.select===r(this,Tt))d=r(this,Pt);else try{h(this,Tt,e.select),d=e.select(c.data),d=te(a==null?void 0:a.data,d,e),h(this,Pt,d),h(this,B,null)}catch(b){h(this,B,b)}else d=c.data;if(e.placeholderData!==void 0&&d===void 0&&F==="pending"){let b;if(a!=null&&a.isPlaceholderData&&e.placeholderData===(f==null?void 0:f.placeholderData))b=a.data;else if(b=typeof e.placeholderData=="function"?e.placeholderData(($=r(this,Rt))==null?void 0:$.state.data,r(this,Rt)):e.placeholderData,e.select&&b!==void 0)try{b=e.select(b),h(this,B,null)}catch(L){h(this,B,L)}b!==void 0&&(F="success",d=te(a==null?void 0:a.data,b,e),o=!0)}r(this,B)&&(S=r(this,B),d=r(this,Pt),R=Date.now(),F="error");const O=c.fetchStatus==="fetching",Q=F==="pending",w=F==="error",D=Q&&O,M=d!==void 0;return{status:F,fetchStatus:c.fetchStatus,isPending:Q,isSuccess:F==="success",isError:w,isInitialLoading:D,isLoading:D,data:d,dataUpdatedAt:c.dataUpdatedAt,error:S,errorUpdatedAt:R,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>v.dataUpdateCount||c.errorUpdateCount>v.errorUpdateCount,isFetching:O,isRefetching:O&&!Q,isLoadingError:w&&!M,isPaused:c.fetchStatus==="paused",isPlaceholderData:o,isRefetchError:w&&M,isStale:pe(t,e),refetch:this.refetch}}updateResult(t){const e=r(this,U),i=this.createResult(r(this,C),this.options);if(h(this,ot,r(this,C).state),h(this,St,this.options),r(this,ot).data!==void 0&&h(this,Rt,r(this,C)),Vt(i,e))return;h(this,U,i);const n={},a=()=>{if(!e)return!0;const{notifyOnChangeProps:u}=this.options,f=typeof u=="function"?u():u;if(f==="all"||!f&&!r(this,Ft).size)return!0;const g=new Set(f??r(this,Ft));return this.options.throwOnError&&g.add("error"),Object.keys(r(this,U)).some(v=>{const p=v;return r(this,U)[p]!==e[p]&&g.has(p)})};(t==null?void 0:t.listeners)!==!1&&a()&&(n.listeners=!0),y(this,zt,Je).call(this,{...n,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&y(this,Lt,re).call(this)}},I=new WeakMap,C=new WeakMap,It=new WeakMap,U=new WeakMap,ot=new WeakMap,St=new WeakMap,B=new WeakMap,Tt=new WeakMap,Pt=new WeakMap,Rt=new WeakMap,ht=new WeakMap,ct=new WeakMap,et=new WeakMap,Ft=new WeakMap,lt=new WeakSet,Et=function(t){y(this,Nt,ue).call(this);let e=r(this,C).fetch(this.options,t);return t!=null&&t.throwOnError||(e=e.catch(x)),e},jt=new WeakSet,ee=function(){if(y(this,kt,ne).call(this),ft||r(this,U).isStale||!Xt(this.options.staleTime))return;const e=Le(r(this,U).dataUpdatedAt,this.options.staleTime)+1;h(this,ht,setTimeout(()=>{r(this,U).isStale||this.updateResult()},e))},Kt=new WeakSet,se=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(r(this,C)):this.options.refetchInterval)??!1},xt=new WeakSet,ie=function(t){y(this,Ht,ae).call(this),h(this,et,t),!(ft||this.options.enabled===!1||!Xt(r(this,et))||r(this,et)===0)&&h(this,ct,setInterval(()=>{(this.options.refetchIntervalInBackground||ye.isFocused())&&y(this,lt,Et).call(this)},r(this,et)))},Lt=new WeakSet,re=function(){y(this,jt,ee).call(this),y(this,xt,ie).call(this,y(this,Kt,se).call(this))},kt=new WeakSet,ne=function(){r(this,ht)&&(clearTimeout(r(this,ht)),h(this,ht,void 0))},Ht=new WeakSet,ae=function(){r(this,ct)&&(clearInterval(r(this,ct)),h(this,ct,void 0))},Nt=new WeakSet,ue=function(){const t=r(this,I).getQueryCache().build(r(this,I),this.options);if(t===r(this,C))return;const e=r(this,C);h(this,C,t),h(this,It,t.state),this.hasListeners()&&(e==null||e.removeObserver(this),t.addObserver(this))},zt=new WeakSet,Je=function(t){E.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(r(this,U))}),r(this,I).getQueryCache().notify({query:r(this,C),type:"observerResultsUpdated"})})},Ae);function Os(s,t){return t.enabled!==!1&&s.state.data===void 0&&!(s.state.status==="error"&&t.retryOnMount===!1)}function we(s,t){return Os(s,t)||s.state.data!==void 0&&oe(s,t,t.refetchOnMount)}function oe(s,t,e){if(t.enabled!==!1){const i=typeof e=="function"?e(s):e;return i==="always"||i!==!1&&pe(s,t)}return!1}function Ce(s,t,e,i){return(s!==t||i.enabled===!1)&&(!e.suspense||s.state.status!=="error")&&pe(s,e)}function pe(s,t){return t.enabled!==!1&&s.isStaleByTime(t.staleTime)}function ws(s,t){return!Vt(s.getCurrentResult(),t)}var st,it,T,W,Dt,$t,Gt,he,qe,Cs=(qe=class extends Mt{constructor(t,e){super();l(this,Dt);l(this,Gt);l(this,st,void 0);l(this,it,void 0);l(this,T,void 0);l(this,W,void 0);h(this,st,t),this.setOptions(e),this.bindMethods(),y(this,Dt,$t).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var i;const e=this.options;this.options=r(this,st).defaultMutationOptions(t),Vt(this.options,e)||r(this,st).getMutationCache().notify({type:"observerOptionsUpdated",mutation:r(this,T),observer:this}),e!=null&&e.mutationKey&&this.options.mutationKey&&dt(e.mutationKey)!==dt(this.options.mutationKey)?this.reset():((i=r(this,T))==null?void 0:i.state.status)==="pending"&&r(this,T).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=r(this,T))==null||t.removeObserver(this)}onMutationUpdate(t){y(this,Dt,$t).call(this),y(this,Gt,he).call(this,t)}getCurrentResult(){return r(this,it)}reset(){var t;(t=r(this,T))==null||t.removeObserver(this),h(this,T,void 0),y(this,Dt,$t).call(this),y(this,Gt,he).call(this)}mutate(t,e){var i;return h(this,W,e),(i=r(this,T))==null||i.removeObserver(this),h(this,T,r(this,st).getMutationCache().build(r(this,st),this.options)),r(this,T).addObserver(this),r(this,T).execute(t)}},st=new WeakMap,it=new WeakMap,T=new WeakMap,W=new WeakMap,Dt=new WeakSet,$t=function(){var e;const t=((e=r(this,T))==null?void 0:e.state)??ze();h(this,it,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},Gt=new WeakSet,he=function(t){E.batch(()=>{var e,i,n,a,u,f,g,v;if(r(this,W)&&this.hasListeners()){const p=r(this,it).variables,c=r(this,it).context;(t==null?void 0:t.type)==="success"?((i=(e=r(this,W)).onSuccess)==null||i.call(e,t.data,p,c),(a=(n=r(this,W)).onSettled)==null||a.call(n,t.data,null,p,c)):(t==null?void 0:t.type)==="error"&&((f=(u=r(this,W)).onError)==null||f.call(u,t.error,p,c),(v=(g=r(this,W)).onSettled)==null||v.call(g,void 0,t.error,p,c))}this.listeners.forEach(p=>{p(r(this,it))})})},qe),Qs="VUE_QUERY_CLIENT";function Xe(s){const t=s?`:${s}`:"";return`${Qs}${t}`}function ce(s,t){Object.keys(s).forEach(e=>{s[e]=t[e]})}function le(s,t){if(t){const e=t(s);if(e===void 0&&Ue(s)||e!==void 0)return e}if(Array.isArray(s))return s.map(e=>le(e,t));if(typeof s=="object"&&Ss(s)){const e=Object.entries(s).map(([i,n])=>[i,le(n,t)]);return Object.fromEntries(e)}return s}function m(s){return le(s,t=>{if(Ue(t))return m(es(t))})}function Ss(s){if(Object.prototype.toString.call(s)!=="[object Object]")return!1;const t=Object.getPrototypeOf(s);return t===null||t===Object.prototype}function fe(s,t){return typeof s=="function"?s(...t):!!s}function Ze(s=""){if(!ss())throw new Error("vue-query hooks can only be used inside setup() function or functions that support injection context.");const t=Xe(s),e=is(t);if(!e)throw new Error("No 'queryClient' found in Vue context, use 'VueQueryPlugin' to properly initialize the library.");return e}var Ps=class extends We{find(s){return super.find(m(s))}findAll(s={}){return super.findAll(m(s))}},Rs=class extends Ye{find(s){return super.find(m(s))}findAll(s={}){return super.findAll(m(s))}},Fs=class extends bs{constructor(s={}){const t={defaultOptions:s.defaultOptions,queryCache:s.queryCache||new Ps,mutationCache:s.mutationCache||new Rs};super(t),this.isRestoring=rs(!1)}isFetching(s={}){return super.isFetching(m(s))}isMutating(s={}){return super.isMutating(m(s))}getQueryData(s){return super.getQueryData(m(s))}ensureQueryData(s){return super.ensureQueryData(m(s))}getQueriesData(s){return super.getQueriesData(m(s))}setQueryData(s,t,e={}){return super.setQueryData(m(s),t,m(e))}setQueriesData(s,t,e={}){return super.setQueriesData(m(s),t,m(e))}getQueryState(s){return super.getQueryState(m(s))}removeQueries(s={}){return super.removeQueries(m(s))}resetQueries(s={},t={}){return super.resetQueries(m(s),m(t))}cancelQueries(s={},t={}){return super.cancelQueries(m(s),m(t))}invalidateQueries(s={},t={}){return new Promise(e=>{setTimeout(async()=>{await super.invalidateQueries(m(s),m(t)),e()},0)})}refetchQueries(s={},t={}){return super.refetchQueries(m(s),m(t))}fetchQuery(s){return super.fetchQuery(m(s))}prefetchQuery(s){return super.prefetchQuery(m(s))}fetchInfiniteQuery(s){return super.fetchInfiniteQuery(m(s))}prefetchInfiniteQuery(s){return super.prefetchInfiniteQuery(m(s))}setDefaultOptions(s){super.setDefaultOptions(m(s))}setQueryDefaults(s,t){super.setQueryDefaults(m(s),m(t))}getQueryDefaults(s){return super.getQueryDefaults(m(s))}setMutationDefaults(s,t){super.setMutationDefaults(m(s),m(t))}getMutationDefaults(s){return super.getMutationDefaults(m(s))}},Is={install:(s,t={})=>{const e=Xe(t.queryClientKey);let i;if("queryClient"in t&&t.queryClient)i=t.queryClient;else{const u="queryClientConfig"in t?t.queryClientConfig:void 0;i=new Fs(u)}ft||i.mount();let n=()=>{};if(t.clientPersister){i.isRestoring.value=!0;const[u,f]=t.clientPersister(i);n=u,f.then(()=>{var g;i.isRestoring.value=!1,(g=t.clientPersisterOnSuccess)==null||g.call(t,i)})}const a=()=>{i.unmount(),n()};if(s.onUnmount)s.onUnmount(a);else{const u=s.unmount;s.unmount=function(){a(),u()}}s.provide(e,i)}};function Ds(s,t,e){const i=Ze(),n=Ie(()=>{const o=m(t);typeof o.enabled=="function"&&(o.enabled=o.enabled());const d=i.defaultQueryOptions(o);return d._optimisticResults=i.isRestoring.value?"isRestoring":"optimistic",d}),a=new s(i,n.value),u=Te(a.getCurrentResult());let f=()=>{};yt(i.isRestoring,o=>{o||(f(),f=a.subscribe(d=>{ce(u,d)}))},{immediate:!0});const g=()=>{a.setOptions(n.value),ce(u,a.getCurrentResult())};yt(n,g),je(()=>{f()});const v=(...o)=>(g(),u.refetch(...o)),p=()=>new Promise((o,d)=>{let S=()=>{};const R=()=>{if(n.value.enabled!==!1){a.setOptions(n.value);const F=a.getOptimisticResult(n.value);F.isStale?(S(),a.fetchOptimistic(n.value).then(o,O=>{fe(n.value.throwOnError,[O,a.getCurrentQuery()])?d(O):o(a.getCurrentResult())})):(S(),o(F))}};R(),S=yt(n,R)});yt(()=>u.error,o=>{if(u.isError&&!u.isFetching&&fe(n.value.throwOnError,[o,a.getCurrentQuery()]))throw o});const c=Ke(xe(u));for(const o in u)typeof u[o]=="function"&&(c[o]=u[o]);return c.suspense=p,c.refetch=v,c}function Ts(s,t){return Ds(gs,s)}function js(s,t){const e=Ze(),i=Ie(()=>e.defaultMutationOptions(m(s))),n=new Cs(e,i.value),a=Te(n.getCurrentResult()),u=n.subscribe(v=>{ce(a,v)}),f=(v,p)=>{n.mutate(v,p).catch(()=>{})};yt(i,()=>{n.setOptions(i.value)}),je(()=>{u()});const g=Ke(xe(a));return yt(()=>a.error,v=>{if(v&&fe(i.value.throwOnError,[v]))throw v}),{...g,mutate:f,mutateAsync:a.mutate,reset:a.reset}}export{Fs as Q,Is as V,js as a,ke as r,Ts as u};
